#include "instrtable.h"

#include "cpu/instrimpl.h"

#define CORE(name) cpu_core_##name
#define FRM(name) cpu_frm_##name

instrdesc_s cpu_instrtable_[256] = {
    // http://www.oxyron.de/html/opcodes02.html
    /* clang-format off */
    // -- 0x
    {CORE(nop), AM_IMP, FRM(brk)},
    {CORE(ora), AM_IZX, FRM(izx_r)},
    {CORE(kil), AM_IMP, FRM(imp)},
    {CORE(slo), AM_IZX, FRM(izx_rmw)},
    {CORE(nop), AM_ZP0, FRM(zp_r)},
    {CORE(ora), AM_ZP0, FRM(zp_r)},
    {CORE(asl), AM_ZP0, FRM(zp_rmw)},
    {CORE(slo), AM_ZP0, FRM(zp_rmw)},
    {CORE(nop), AM_IMP, FRM(php)},
    {CORE(ora), AM_IMM, FRM(imm)},
    {CORE(asl), AM_ACC, FRM(acc)},
    {CORE(anc), AM_IMM, FRM(imm)},
    {CORE(nop), AM_ABS, FRM(abs_r)},
    {CORE(ora), AM_ABS, FRM(abs_r)},
    {CORE(asl), AM_ABS, FRM(abs_rmw)},
    {CORE(slo), AM_ABS, FRM(abs_rmw)},
    // -- 1x
    {CORE(bpl), AM_REL, FRM(rel)},
    {CORE(ora), AM_IZY, FRM(izy_r)},
    {CORE(kil), AM_IMP, FRM(imp)},
    {CORE(slo), AM_IZY, FRM(izy_rmw)},
    {CORE(nop), AM_ZPX, FRM(zpx_r)},
    {CORE(ora), AM_ZPX, FRM(zpx_r)},
    {CORE(asl), AM_ZPX, FRM(zpx_rmw)},
    {CORE(slo), AM_ZPX, FRM(zpx_rmw)},
    {CORE(clc), AM_IMP, FRM(imp)},
    {CORE(ora), AM_ABY, FRM(aby_r)},
    {CORE(nop), AM_IMP, FRM(imp)},
    {CORE(slo), AM_ABY, FRM(aby_rmw)},
    {CORE(nop), AM_ABX, FRM(abx_r)},
    {CORE(ora), AM_ABX, FRM(abx_r)},
    {CORE(asl), AM_ABX, FRM(abx_rmw)},
    {CORE(slo), AM_ABX, FRM(abx_rmw)},
    // -- 2x
    {CORE(nop), AM_ABS, FRM(jsr)},
    {CORE(and), AM_IZX, FRM(izx_r)},
    {CORE(kil), AM_IMP, FRM(imp)},
    {CORE(rla), AM_IZX, FRM(izx_rmw)},
    {CORE(bit), AM_ZP0, FRM(zp_r)},
    {CORE(and), AM_ZP0, FRM(zp_r)},
    {CORE(rol), AM_ZP0, FRM(zp_rmw)},
    {CORE(rla), AM_ZP0, FRM(zp_rmw)},
    {CORE(nop), AM_IMP, FRM(plp)},
    {CORE(and), AM_IMM, FRM(imm)},
    {CORE(rol), AM_ACC, FRM(acc)},
    {CORE(anc), AM_IMM, FRM(imm)},
    {CORE(bit), AM_ABS, FRM(abs_r)},
    {CORE(and), AM_ABS, FRM(abs_r)},
    {CORE(rol), AM_ABS, FRM(abs_rmw)},
    {CORE(rla), AM_ABS, FRM(abs_rmw)},
    // -- 3x
    {CORE(bmi), AM_REL, FRM(rel)},
    {CORE(and), AM_IZY, FRM(izy_r)},
    {CORE(kil), AM_IMP, FRM(imp)},
    {CORE(rla), AM_IZY, FRM(izy_rmw)},
    {CORE(nop), AM_ZPX, FRM(zpx_r)},
    {CORE(and), AM_ZPX, FRM(zpx_r)},
    {CORE(rol), AM_ZPX, FRM(zpx_rmw)},
    {CORE(rla), AM_ZPX, FRM(zpx_rmw)},
    {CORE(sec), AM_IMP, FRM(imp)},
    {CORE(and), AM_ABY, FRM(aby_r)},
    {CORE(nop), AM_IMP, FRM(imp)},
    {CORE(rla), AM_ABY, FRM(aby_rmw)},
    {CORE(nop), AM_ABX, FRM(abx_r)},
    {CORE(and), AM_ABX, FRM(abx_r)},
    {CORE(rol), AM_ABX, FRM(abx_rmw)},
    {CORE(rla), AM_ABX, FRM(abx_rmw)},
    // -- 4x
    {CORE(nop), AM_IMP, FRM(rti)},
    {CORE(eor), AM_IZX, FRM(izx_r)},
    {CORE(kil), AM_IMP, FRM(imp)},
    {CORE(sre), AM_IZX, FRM(izx_rmw)},
    {CORE(nop), AM_ZP0, FRM(zp_r)},
    {CORE(eor), AM_ZP0, FRM(zp_r)},
    {CORE(lsr), AM_ZP0, FRM(zp_rmw)},
    {CORE(sre), AM_ZP0, FRM(zp_rmw)},
    {CORE(nop), AM_IMP, FRM(pha)},
    {CORE(eor), AM_IMM, FRM(imm)},
    {CORE(lsr), AM_ACC, FRM(acc)},
    {CORE(alr), AM_IMM, FRM(imm)},
    {CORE(nop), AM_ABS, FRM(abs_jmp)},
    {CORE(eor), AM_ABS, FRM(abs_r)},
    {CORE(lsr), AM_ABS, FRM(abs_rmw)},
    {CORE(sre), AM_ABS, FRM(abs_rmw)},
    // -- 5x
    {CORE(bvc), AM_REL, FRM(rel)},
    {CORE(eor), AM_IZY, FRM(izy_r)},
    {CORE(kil), AM_IMP, FRM(imp)},
    {CORE(sre), AM_IZY, FRM(izy_rmw)},
    {CORE(nop), AM_ZPX, FRM(zpx_r)},
    {CORE(eor), AM_ZPX, FRM(zpx_r)},
    {CORE(lsr), AM_ZPX, FRM(zpx_rmw)},
    {CORE(sre), AM_ZPX, FRM(zpx_rmw)},
    {CORE(cli), AM_IMP, FRM(imp)},
    {CORE(eor), AM_ABY, FRM(aby_r)},
    {CORE(nop), AM_IMP, FRM(imp)},
    {CORE(sre), AM_ABY, FRM(aby_rmw)},
    {CORE(nop), AM_ABX, FRM(abx_r)},
    {CORE(eor), AM_ABX, FRM(abx_r)},
    {CORE(lsr), AM_ABX, FRM(abx_rmw)},
    {CORE(sre), AM_ABX, FRM(abx_rmw)},
    // -- 6x
    {CORE(nop), AM_IMP, FRM(rts)},
    {CORE(adc), AM_IZX, FRM(izx_r)},
    {CORE(kil), AM_IMP, FRM(imp)},
    {CORE(rra), AM_IZX, FRM(izx_rmw)},
    {CORE(nop), AM_ZP0, FRM(zp_r)},
    {CORE(adc), AM_ZP0, FRM(zp_r)},
    {CORE(ror), AM_ZP0, FRM(zp_rmw)},
    {CORE(rra), AM_ZP0, FRM(zp_rmw)},
    {CORE(nop), AM_IMP, FRM(pla)},
    {CORE(adc), AM_IMM, FRM(imm)},
    {CORE(ror), AM_ACC, FRM(acc)},
    {CORE(arr), AM_IMM, FRM(imm)},
    {CORE(nop), AM_IND, FRM(ind_jmp)},
    {CORE(adc), AM_ABS, FRM(abs_r)},
    {CORE(ror), AM_ABS, FRM(abs_rmw)},
    {CORE(rra), AM_ABS, FRM(abs_rmw)},
    // -- 7x
    {CORE(bvs), AM_REL, FRM(rel)},
    {CORE(adc), AM_IZY, FRM(izy_r)},
    {CORE(kil), AM_IMP, FRM(imp)},
    {CORE(rra), AM_IZY, FRM(izy_rmw)},
    {CORE(nop), AM_ZPX, FRM(zpx_r)},
    {CORE(adc), AM_ZPX, FRM(zpx_r)},
    {CORE(ror), AM_ZPX, FRM(zpx_rmw)},
    {CORE(rra), AM_ZPX, FRM(zpx_rmw)},
    {CORE(sei), AM_IMP, FRM(imp)},
    {CORE(adc), AM_ABY, FRM(aby_r)},
    {CORE(nop), AM_IMP, FRM(imp)},
    {CORE(rra), AM_ABY, FRM(aby_rmw)},
    {CORE(nop), AM_ABX, FRM(abx_r)},
    {CORE(adc), AM_ABX, FRM(abx_r)},
    {CORE(ror), AM_ABX, FRM(abx_rmw)},
    {CORE(rra), AM_ABX, FRM(abx_rmw)},
    // -- 8x
    {CORE(nop), AM_IMM, FRM(imm)},
    {CORE(sta), AM_IZX, FRM(izx_w)},
    {CORE(nop), AM_IMM, FRM(imm)},
    {CORE(sax), AM_IZX, FRM(izx_w)},
    {CORE(sty), AM_ZP0, FRM(zp_w)},
    {CORE(sta), AM_ZP0, FRM(zp_w)},
    {CORE(stx), AM_ZP0, FRM(zp_w)},
    {CORE(sax), AM_ZP0, FRM(zp_w)},
    {CORE(dey), AM_IMP, FRM(imp)},
    {CORE(nop), AM_IMM, FRM(imm)},
    {CORE(txa), AM_IMP, FRM(imp)},
    {CORE(xaa), AM_IMM, FRM(imm)},
    {CORE(sty), AM_ABS, FRM(abs_w)},
    {CORE(sta), AM_ABS, FRM(abs_w)},
    {CORE(stx), AM_ABS, FRM(abs_w)},
    {CORE(sax), AM_ABS, FRM(abs_w)},
    // -- 9x
    {CORE(bcc), AM_REL, FRM(rel)},
    {CORE(sta), AM_IZY, FRM(izy_w)},
    {CORE(kil), AM_IMP, FRM(imp)},
    {CORE(ahx), AM_IZY, FRM(izy_w)},
    {CORE(sty), AM_ZPX, FRM(zpx_w)},
    {CORE(sta), AM_ZPX, FRM(zpx_w)},
    {CORE(stx), AM_ZPY, FRM(zpy_w)},
    {CORE(sax), AM_ZPY, FRM(zpy_w)},
    {CORE(tya), AM_IMP, FRM(imp)},
    {CORE(sta), AM_ABY, FRM(aby_w)},
    {CORE(txs), AM_IMP, FRM(imp)},
    {CORE(tas), AM_ABY, FRM(aby_w)},
    {CORE(shy), AM_ABX, FRM(abx_w)},
    {CORE(sta), AM_ABX, FRM(abx_w)},
    {CORE(shx), AM_ABY, FRM(aby_w)},
    {CORE(ahx), AM_ABY, FRM(aby_w)},
    // -- Ax
    {CORE(ldy), AM_IMM, FRM(imm)},
    {CORE(lda), AM_IZX, FRM(izx_r)},
    {CORE(ldx), AM_IMM, FRM(imm)},
    {CORE(lax), AM_IZX, FRM(izx_r)},
    {CORE(ldy), AM_ZP0, FRM(zp_r)},
    {CORE(lda), AM_ZP0, FRM(zp_r)},
    {CORE(ldx), AM_ZP0, FRM(zp_r)},
    {CORE(lax), AM_ZP0, FRM(zp_r)},
    {CORE(tay), AM_IMP, FRM(imp)},
    {CORE(lda), AM_IMM, FRM(imm)},
    {CORE(tax), AM_IMP, FRM(imp)},
    {CORE(lax), AM_IMM, FRM(imm)},
    {CORE(ldy), AM_ABS, FRM(abs_r)},
    {CORE(lda), AM_ABS, FRM(abs_r)},
    {CORE(ldx), AM_ABS, FRM(abs_r)},
    {CORE(lax), AM_ABS, FRM(abs_r)},
    // -- Bx
    {CORE(bcs), AM_REL, FRM(rel)},
    {CORE(lda), AM_IZY, FRM(izy_r)},
    {CORE(kil), AM_IMP, FRM(imp)},
    {CORE(lax), AM_IZY, FRM(izy_r)},
    {CORE(ldy), AM_ZPX, FRM(zpx_r)},
    {CORE(lda), AM_ZPX, FRM(zpx_r)},
    {CORE(ldx), AM_ZPY, FRM(zpy_r)},
    {CORE(lax), AM_ZPY, FRM(zpy_r)},
    {CORE(clv), AM_IMP, FRM(imp)},
    {CORE(lda), AM_ABY, FRM(aby_r)},
    {CORE(tsx), AM_IMP, FRM(imp)},
    {CORE(las), AM_ABY, FRM(aby_r)},
    {CORE(ldy), AM_ABX, FRM(abx_r)},
    {CORE(lda), AM_ABX, FRM(abx_r)},
    {CORE(ldx), AM_ABY, FRM(aby_r)},
    {CORE(lax), AM_ABY, FRM(aby_r)},
    // -- Cx
    {CORE(cpy), AM_IMM, FRM(imm)},
    {CORE(cmp), AM_IZX, FRM(izx_r)},
    {CORE(nop), AM_IMM, FRM(imm)},
    {CORE(dcp), AM_IZX, FRM(izx_rmw)},
    {CORE(cpy), AM_ZP0, FRM(zp_r)},
    {CORE(cmp), AM_ZP0, FRM(zp_r)},
    {CORE(dec), AM_ZP0, FRM(zp_rmw)},
    {CORE(dcp), AM_ZP0, FRM(zp_rmw)},
    {CORE(iny), AM_IMP, FRM(imp)},
    {CORE(cmp), AM_IMM, FRM(imm)},
    {CORE(dex), AM_IMP, FRM(imp)},
    {CORE(axs), AM_IMM, FRM(imm)},
    {CORE(cpy), AM_ABS, FRM(abs_r)},
    {CORE(cmp), AM_ABS, FRM(abs_r)},
    {CORE(dec), AM_ABS, FRM(abs_rmw)},
    {CORE(dcp), AM_ABS, FRM(abs_rmw)},
    // -- Dx
    {CORE(bne), AM_REL, FRM(rel)},
    {CORE(cmp), AM_IZY, FRM(izy_r)},
    {CORE(kil), AM_IMP, FRM(imp)},
    {CORE(dcp), AM_IZY, FRM(izy_rmw)},
    {CORE(nop), AM_ZPX, FRM(zpx_r)},
    {CORE(cmp), AM_ZPX, FRM(zpx_r)},
    {CORE(dec), AM_ZPX, FRM(zpx_rmw)},
    {CORE(dcp), AM_ZPX, FRM(zpx_rmw)},
    {CORE(cld), AM_IMP, FRM(imp)},
    {CORE(cmp), AM_ABY, FRM(aby_r)},
    {CORE(nop), AM_IMP, FRM(imp)},
    {CORE(dcp), AM_ABY, FRM(aby_rmw)},
    {CORE(nop), AM_ABX, FRM(abx_r)},
    {CORE(cmp), AM_ABX, FRM(abx_r)},
    {CORE(dec), AM_ABX, FRM(abx_rmw)},
    {CORE(dcp), AM_ABX, FRM(abx_rmw)},
    // -- Ex
    {CORE(cpx), AM_IMM, FRM(imm)},
    {CORE(sbc), AM_IZX, FRM(izx_r)},
    {CORE(nop), AM_IMM, FRM(imm)},
    {CORE(isc), AM_IZX, FRM(izx_rmw)},
    {CORE(cpx), AM_ZP0, FRM(zp_r)},
    {CORE(sbc), AM_ZP0, FRM(zp_r)},
    {CORE(inc), AM_ZP0, FRM(zp_rmw)},
    {CORE(isc), AM_ZP0, FRM(zp_rmw)},
    {CORE(inx), AM_IMP, FRM(imp)},
    {CORE(sbc), AM_IMM, FRM(imm)},
    {CORE(nop), AM_IMP, FRM(imp)},
    {CORE(sbc), AM_IMM, FRM(imm)},
    {CORE(cpx), AM_ABS, FRM(abs_r)},
    {CORE(sbc), AM_ABS, FRM(abs_r)},
    {CORE(inc), AM_ABS, FRM(abs_rmw)},
    {CORE(isc), AM_ABS, FRM(abs_rmw)},
    // -- Fx
    {CORE(beq), AM_REL, FRM(rel)},
    {CORE(sbc), AM_IZY, FRM(izy_r)},
    {CORE(kil), AM_IMP, FRM(imp)},
    {CORE(isc), AM_IZY, FRM(izy_rmw)},
    {CORE(nop), AM_ZPX, FRM(zpx_r)},
    {CORE(sbc), AM_ZPX, FRM(zpx_r)},
    {CORE(inc), AM_ZPX, FRM(zpx_rmw)},
    {CORE(isc), AM_ZPX, FRM(zpx_rmw)},
    {CORE(sed), AM_IMP, FRM(imp)},
    {CORE(sbc), AM_ABY, FRM(aby_r)},
    {CORE(nop), AM_IMP, FRM(imp)},
    {CORE(isc), AM_ABY, FRM(aby_rmw)},
    {CORE(nop), AM_ABX, FRM(abx_r)},
    {CORE(sbc), AM_ABX, FRM(abx_r)},
    {CORE(inc), AM_ABX, FRM(abx_rmw)},
    {CORE(isc), AM_ABX, FRM(abx_rmw)},
    /* clang-format on */
};
