#include "instruction_map.hpp"

namespace ln {

const Instruction g_instruction_map[256] = {
    /* clang-format off */
    // -- 0x
    {OpCode::BRK, AddressMode::IMP},
    {OpCode::ORA, AddressMode::IZX},
    {OpCode::STP, AddressMode::IMP},
    {OpCode::SLO, AddressMode::IZX},
    {OpCode::NOP, AddressMode::ZP0},
    {OpCode::ORA, AddressMode::ZP0},
    {OpCode::ASL, AddressMode::ZP0},
    {OpCode::SLO, AddressMode::ZP0},
    {OpCode::PHP, AddressMode::IMP},
    {OpCode::ORA, AddressMode::IMM},
    {OpCode::ASL, AddressMode::IMP},
    {OpCode::ANC, AddressMode::IMM},
    {OpCode::NOP, AddressMode::ABS},
    {OpCode::ORA, AddressMode::ABS},
    {OpCode::ASL, AddressMode::ABS},
    {OpCode::SLO, AddressMode::ABS},
    // -- 1x
    {OpCode::BPL, AddressMode::REL},
    {OpCode::ORA, AddressMode::IZY},
    {OpCode::STP, AddressMode::IMP},
    {OpCode::SLO, AddressMode::IZY},
    {OpCode::NOP, AddressMode::ZPX},
    {OpCode::ORA, AddressMode::ZPX},
    {OpCode::ASL, AddressMode::ZPX},
    {OpCode::SLO, AddressMode::ZPX},
    {OpCode::CLC, AddressMode::IMP},
    {OpCode::ORA, AddressMode::ABY},
    {OpCode::NOP, AddressMode::IMP},
    {OpCode::SLO, AddressMode::ABY},
    {OpCode::NOP, AddressMode::ABX},
    {OpCode::ORA, AddressMode::ABX},
    {OpCode::ASL, AddressMode::ABX},
    {OpCode::SLO, AddressMode::ABX},
    // -- 2x
    {OpCode::JSR, AddressMode::ABS},
    {OpCode::AND, AddressMode::IZX},
    {OpCode::STP, AddressMode::IMP},
    {OpCode::RLA, AddressMode::IZX},
    {OpCode::BIT, AddressMode::ZP0},
    {OpCode::AND, AddressMode::ZP0},
    {OpCode::ROL, AddressMode::ZP0},
    {OpCode::RLA, AddressMode::ZP0},
    {OpCode::PLP, AddressMode::IMP},
    {OpCode::AND, AddressMode::IMM},
    {OpCode::ROL, AddressMode::IMP},
    {OpCode::ANC, AddressMode::IMM},
    {OpCode::BIT, AddressMode::ABS},
    {OpCode::AND, AddressMode::ABS},
    {OpCode::ROL, AddressMode::ABS},
    {OpCode::RLA, AddressMode::ABS},
    // -- 3x
    {OpCode::BMI, AddressMode::REL},
    {OpCode::AND, AddressMode::IZY},
    {OpCode::STP, AddressMode::IMP},
    {OpCode::RLA, AddressMode::IZY},
    {OpCode::NOP, AddressMode::ZPX},
    {OpCode::AND, AddressMode::ZPX},
    {OpCode::ROL, AddressMode::ZPX},
    {OpCode::RLA, AddressMode::ZPX},
    {OpCode::SEC, AddressMode::IMP},
    {OpCode::AND, AddressMode::ABY},
    {OpCode::NOP, AddressMode::IMP},
    {OpCode::RLA, AddressMode::ABY},
    {OpCode::NOP, AddressMode::ABX},
    {OpCode::AND, AddressMode::ABX},
    {OpCode::ROL, AddressMode::ABX},
    {OpCode::RLA, AddressMode::ABX},
    // -- 4x
    {OpCode::RTI, AddressMode::IMP},
    {OpCode::EOR, AddressMode::IZX},
    {OpCode::STP, AddressMode::IMP},
    {OpCode::SRE, AddressMode::IZX},
    {OpCode::NOP, AddressMode::ZP0},
    {OpCode::EOR, AddressMode::ZP0},
    {OpCode::LSR, AddressMode::ZP0},
    {OpCode::SRE, AddressMode::ZP0},
    {OpCode::PHA, AddressMode::IMP},
    {OpCode::EOR, AddressMode::IMM},
    {OpCode::LSR, AddressMode::IMP},
    {OpCode::ALR, AddressMode::IMM},
    {OpCode::JMP, AddressMode::ABS},
    {OpCode::EOR, AddressMode::ABS},
    {OpCode::LSR, AddressMode::ABS},
    {OpCode::SRE, AddressMode::ABS},
    // -- 5x
    {OpCode::BVC, AddressMode::REL},
    {OpCode::EOR, AddressMode::IZY},
    {OpCode::STP, AddressMode::IMP},
    {OpCode::SRE, AddressMode::IZY},
    {OpCode::NOP, AddressMode::ZPX},
    {OpCode::EOR, AddressMode::ZPX},
    {OpCode::LSR, AddressMode::ZPX},
    {OpCode::SRE, AddressMode::ZPX},
    {OpCode::CLI, AddressMode::IMP},
    {OpCode::EOR, AddressMode::ABY},
    {OpCode::NOP, AddressMode::IMP},
    {OpCode::SRE, AddressMode::ABY},
    {OpCode::NOP, AddressMode::ABX},
    {OpCode::EOR, AddressMode::ABX},
    {OpCode::LSR, AddressMode::ABX},
    {OpCode::SRE, AddressMode::ABX},
    // -- 6x
    {OpCode::RTS, AddressMode::IMP},
    {OpCode::ADC, AddressMode::IZX},
    {OpCode::STP, AddressMode::IMP},
    {OpCode::RRA, AddressMode::IZX},
    {OpCode::NOP, AddressMode::ZP0},
    {OpCode::ADC, AddressMode::ZP0},
    {OpCode::ROR, AddressMode::ZP0},
    {OpCode::RRA, AddressMode::ZP0},
    {OpCode::PLA, AddressMode::IMP},
    {OpCode::ADC, AddressMode::IMM},
    {OpCode::ROR, AddressMode::IMP},
    {OpCode::ARR, AddressMode::IMM},
    {OpCode::JMP, AddressMode::IND},
    {OpCode::ADC, AddressMode::ABS},
    {OpCode::ROR, AddressMode::ABS},
    {OpCode::RRA, AddressMode::ABS},
    // -- 7x
    {OpCode::BVS, AddressMode::REL},
    {OpCode::ADC, AddressMode::IZY},
    {OpCode::STP, AddressMode::IMP},
    {OpCode::RRA, AddressMode::IZY},
    {OpCode::NOP, AddressMode::ZPX},
    {OpCode::ADC, AddressMode::ZPX},
    {OpCode::ROR, AddressMode::ZPX},
    {OpCode::RRA, AddressMode::ZPX},
    {OpCode::SEI, AddressMode::IMP},
    {OpCode::ADC, AddressMode::ABY},
    {OpCode::NOP, AddressMode::IMP},
    {OpCode::RRA, AddressMode::ABY},
    {OpCode::NOP, AddressMode::ABX},
    {OpCode::ADC, AddressMode::ABX},
    {OpCode::ROR, AddressMode::ABX},
    {OpCode::RRA, AddressMode::ABX},
    // -- 8x
    {OpCode::NOP, AddressMode::IMM},
    {OpCode::STA, AddressMode::IZX},
    {OpCode::NOP, AddressMode::IMM},
    {OpCode::SAX, AddressMode::IZX},
    {OpCode::STY, AddressMode::ZP0},
    {OpCode::STA, AddressMode::ZP0},
    {OpCode::STX, AddressMode::ZP0},
    {OpCode::SAX, AddressMode::ZP0},
    {OpCode::DEY, AddressMode::IMP},
    {OpCode::NOP, AddressMode::IMM},
    {OpCode::TXA, AddressMode::IMP},
    {OpCode::XAA, AddressMode::IMM},
    {OpCode::STY, AddressMode::ABS},
    {OpCode::STA, AddressMode::ABS},
    {OpCode::STX, AddressMode::ABS},
    {OpCode::SAX, AddressMode::ABS},
    // -- 9x
    {OpCode::BCC, AddressMode::REL},
    {OpCode::STA, AddressMode::IZY},
    {OpCode::STP, AddressMode::IMP},
    {OpCode::AHX, AddressMode::IZY},
    {OpCode::STY, AddressMode::ZPX},
    {OpCode::STA, AddressMode::ZPX},
    {OpCode::STX, AddressMode::ZPY},
    {OpCode::SAX, AddressMode::ZPY},
    {OpCode::TYA, AddressMode::IMP},
    {OpCode::STA, AddressMode::ABY},
    {OpCode::TXS, AddressMode::IMP},
    {OpCode::TAS, AddressMode::ABY},
    {OpCode::SHY, AddressMode::ABX},
    {OpCode::STA, AddressMode::ABX},
    {OpCode::SHX, AddressMode::ABY},
    {OpCode::AHX, AddressMode::ABY},
    // -- Ax
    {OpCode::LDY, AddressMode::IMM},
    {OpCode::LDA, AddressMode::IZX},
    {OpCode::LDX, AddressMode::IMM},
    {OpCode::LAX, AddressMode::IZX},
    {OpCode::LDY, AddressMode::ZP0},
    {OpCode::LDA, AddressMode::ZP0},
    {OpCode::LDX, AddressMode::ZP0},
    {OpCode::LAX, AddressMode::ZP0},
    {OpCode::TAY, AddressMode::IMP},
    {OpCode::LDA, AddressMode::IMM},
    {OpCode::TAX, AddressMode::IMP},
    {OpCode::LAX, AddressMode::IMM},
    {OpCode::LDY, AddressMode::ABS},
    {OpCode::LDA, AddressMode::ABS},
    {OpCode::LDX, AddressMode::ABS},
    {OpCode::LAX, AddressMode::ABS},
    // -- Bx
    {OpCode::BCS, AddressMode::REL},
    {OpCode::LDA, AddressMode::IZY},
    {OpCode::STP, AddressMode::IMP},
    {OpCode::LAX, AddressMode::IZY},
    {OpCode::LDY, AddressMode::ZPX},
    {OpCode::LDA, AddressMode::ZPX},
    {OpCode::LDX, AddressMode::ZPY},
    {OpCode::LAX, AddressMode::ZPY},
    {OpCode::CLV, AddressMode::IMP},
    {OpCode::LDA, AddressMode::ABY},
    {OpCode::TSX, AddressMode::IMP},
    {OpCode::LAS, AddressMode::ABY},
    {OpCode::LDY, AddressMode::ABX},
    {OpCode::LDA, AddressMode::ABX},
    {OpCode::LDX, AddressMode::ABY},
    {OpCode::LAX, AddressMode::ABY},
    // -- Cx
    {OpCode::CPY, AddressMode::IMM},
    {OpCode::CMP, AddressMode::IZX},
    {OpCode::NOP, AddressMode::IMM},
    {OpCode::DCP, AddressMode::IZX},
    {OpCode::CPY, AddressMode::ZP0},
    {OpCode::CMP, AddressMode::ZP0},
    {OpCode::DEC, AddressMode::ZP0},
    {OpCode::DCP, AddressMode::ZP0},
    {OpCode::INY, AddressMode::IMP},
    {OpCode::CMP, AddressMode::IMM},
    {OpCode::DEX, AddressMode::IMP},
    {OpCode::AXS, AddressMode::IMM},
    {OpCode::CPY, AddressMode::ABS},
    {OpCode::CMP, AddressMode::ABS},
    {OpCode::DEC, AddressMode::ABS},
    {OpCode::DCP, AddressMode::ABS},
    // -- Dx
    {OpCode::BNE, AddressMode::REL},
    {OpCode::CMP, AddressMode::IZY},
    {OpCode::STP, AddressMode::IMP},
    {OpCode::DCP, AddressMode::IZY},
    {OpCode::NOP, AddressMode::ZPX},
    {OpCode::CMP, AddressMode::ZPX},
    {OpCode::DEC, AddressMode::ZPX},
    {OpCode::DCP, AddressMode::ZPX},
    {OpCode::CLD, AddressMode::IMP},
    {OpCode::CMP, AddressMode::ABY},
    {OpCode::NOP, AddressMode::IMP},
    {OpCode::DCP, AddressMode::ABY},
    {OpCode::NOP, AddressMode::ABX},
    {OpCode::CMP, AddressMode::ABX},
    {OpCode::DEC, AddressMode::ABX},
    {OpCode::DCP, AddressMode::ABX},
    // -- Ex
    {OpCode::CPX, AddressMode::IMM},
    {OpCode::SBC, AddressMode::IZX},
    {OpCode::NOP, AddressMode::IMM},
    {OpCode::ISC, AddressMode::IZX},
    {OpCode::CPX, AddressMode::ZP0},
    {OpCode::SBC, AddressMode::ZP0},
    {OpCode::INC, AddressMode::ZP0},
    {OpCode::ISC, AddressMode::ZP0},
    {OpCode::INX, AddressMode::IMP},
    {OpCode::SBC, AddressMode::IMM},
    {OpCode::NOP, AddressMode::IMP},
    {OpCode::SBC, AddressMode::IMM},
    {OpCode::CPX, AddressMode::ABS},
    {OpCode::SBC, AddressMode::ABS},
    {OpCode::INC, AddressMode::ABS},
    {OpCode::ISC, AddressMode::ABS},
    // -- Fx
    {OpCode::BEQ, AddressMode::REL},
    {OpCode::SBC, AddressMode::IZY},
    {OpCode::STP, AddressMode::IMP},
    {OpCode::ISC, AddressMode::IZY},
    {OpCode::NOP, AddressMode::ZPX},
    {OpCode::SBC, AddressMode::ZPX},
    {OpCode::INC, AddressMode::ZPX},
    {OpCode::ISC, AddressMode::ZPX},
    {OpCode::SED, AddressMode::IMP},
    {OpCode::SBC, AddressMode::ABY},
    {OpCode::NOP, AddressMode::IMP},
    {OpCode::ISC, AddressMode::ABY},
    {OpCode::NOP, AddressMode::ABX},
    {OpCode::SBC, AddressMode::ABX},
    {OpCode::INC, AddressMode::ABX},
    {OpCode::ISC, AddressMode::ABX},
    /* clang-format on */
};
static_assert(sizeof g_instruction_map / sizeof(Instruction) == 256,
              "Missing instruction definitions.");

} // namespace ln
